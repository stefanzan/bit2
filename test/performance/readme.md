## Guide 

To assess BIT2â€™s scalability and performance under different update scenarios, we followed these steps:

1. **Update Design**
   For each template, 18 update operations were manually created and stored in the `updates.ts` file within each corresponding language folder.

2. **Update Sequence Generation**
   To analyze the impact of update quantity, we generated sequences ranging from 2 to 18 updates:

   * For each number `n` (from 2 to 18), 30 update sequences were randomly sampled from the 18 available updates.
   * These combinations were generated by running `generateUpdateCombination.ts` by `ts-node test/performance/generateUpdateCombination.ts`, which outputs to `bulkUpdates.generated.ts`.
   * You can control which template to generate combinations for by commenting/uncommenting lines in `generateUpdateCombination.ts`:

   ```ts
   // Django
   // const inputFile  = './test/performance/Django/updates';
   // const outputFile = './test/performance/Django/bulkUpdates.generated.ts';

   // FreeMarker
   // const inputFile  = './test/performance/FreeMarker/updates';
   // const outputFile = './test/performance/FreeMarker/bulkUpdates.generated.ts';

   // Mustache
   // const inputFile  = './test/performance/Mustache/updates.ts';
   // const outputFile = './test/performance/Mustache/bulkUpdates.generated.ts';

   // Nunjucks
   const inputFile  = './test/performance/Nunjucks/updates.ts';
   const outputFile = './test/performance/Nunjucks/bulkUpdates.generated.ts';
   ```

3. **Benchmark Execution**
   Run the following command to execute the benchmark:

   ```bash
   npm run runPerformance2
   ```
   or 
   ```bash 
   ts-node test/performance/run.ts
   ```

   This triggers `run.ts`, which applies the generated update sequences and records the runtime. Results are saved in the `timings.txt` file under each language's folder.

   To switch between template programs, modify `run.ts` by commenting/uncommenting relevant sections:

   ```ts
   // Django
   // import * as AllBulkUpdates from "./Django/bulkUpdates.generated";
   // const bit2File   = "./test/performance/Django/login.bit2";
   // const outputFile = "./test/performance/Django/timings.txt";

   // FreeMarker
   // import * as AllBulkUpdates from "./Freemarker/bulkUpdates.generated";
   // const bit2File   = "./test/performance/Freemarker/main-v2.bit2";
   // const outputFile = "./test/performance/Freemarker/timings.txt";

   // Mustache
   // import * as AllBulkUpdates from "./Mustache/bulkUpdates.generated";
   // const bit2File   = "./test/performance/Mustache/readme.bit2";
   // const outputFile = "./test/performance/Mustache/timings.txt";

   // Nunjucks
   import * as AllBulkUpdates from "./Nunjucks/bulkUpdates.generated";
   const bit2File   = "./test/performance/Nunjucks/styleguide.bit2";
   const outputFile = "./test/performance/Nunjucks/timings.txt";
   ```

#### Sample Results: `login.bit2` (Django)

Below is an excerpt from `timings.txt`, showing execution times in milliseconds:

```txt
Forward Evaluation Timings:
14.768  3.692  3.598  4.095  4.070  2.985  2.576  3.914  2.496  2.540 ...

Backward Evaluation Timings:
bulkUpdate2:   61.137  51.827  249.455  88.657 ...
bulkUpdate4:   236.291  330.758  34.311  710.879 ...
bulkUpdate6:   262.263  77.124  86.639  313.810 ...
bulkUpdate8:   1029.030  1007.300  6815.240 ...
bulkUpdate10:  2625.236  713.316  1024.636 ...
bulkUpdate12:  276.664  2733.251  2143.840 ...
bulkUpdate14:  2733.923  345.919  2335.603 ...
bulkUpdate16:  8263.789  1039.431  5550.986 ...
bulkUpdate18:  5458.605  5476.804  5514.526 ...
```

